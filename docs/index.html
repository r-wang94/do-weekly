<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Do Weekly – A weekly programme from Do Health</title>
  <meta name="description" content="Short weekly episodes on building lasting healthy habits. Hosted by Dr Robin Wang.">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    :root {
      --bg: #fafaf8;
      --text: #19301E;
      --muted: #67796B;
      --border: #e0ddd8;
      --accent: #b9f00a;
      --accent-dark: #19301E;
      --card-bg: #ffffff;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    .container {
      max-width: 640px;
      margin: 0 auto;
      padding: 3rem 1.5rem 4rem;
    }

    header {
      margin-bottom: 3rem;
    }

    .logo {
      height: 32px;
      width: auto;
      margin-bottom: 1.5rem;
    }

    h1 {
      font-size: 1.75rem;
      font-weight: 600;
      letter-spacing: -0.02em;
      margin-bottom: 0.25rem;
    }

    .subtitle {
      color: var(--muted);
      font-size: 1rem;
    }

    .about {
      margin-bottom: 3rem;
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.7;
    }

    .episodes {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .episode {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
    }

    .episode-number {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }

    .episode-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .episode-description {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .player {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .player audio { display: none; }

    .play-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: var(--accent-dark);
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .play-btn:hover { opacity: 0.85; }

    .play-btn svg {
      width: 14px;
      height: 14px;
      fill: #fff;
    }

    .player-track {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: var(--border);
      border-radius: 2px;
      cursor: pointer;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent-dark);
      border-radius: 2px;
      width: 0%;
      transition: width 0.1s linear;
    }

    .player-time {
      font-size: 0.7rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
    }

    .upcoming {
      margin-top: 3rem;
    }

    .upcoming h2 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--muted);
    }

    .upcoming-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .upcoming-list li {
      font-size: 0.9rem;
      color: var(--muted);
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border);
    }

    .upcoming-list li:last-child {
      border-bottom: none;
    }

    .upcoming-list .ep-num {
      display: inline-block;
      width: 1.5rem;
      color: var(--muted);
    }

    footer {
      margin-top: 4rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      font-size: 0.8rem;
      color: var(--muted);
    }

    footer a {
      color: var(--accent-dark);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    .episode-feedback {
      margin-top: 1rem;
      display: flex;
      gap: 0.5rem;
    }

    .episode-feedback input {
      flex: 1;
      padding: 0.4rem 0.6rem;
      border: 1px solid var(--border);
      border-radius: 6px;
      font-family: inherit;
      font-size: 0.8rem;
      color: var(--text);
      background: var(--bg);
    }

    .episode-feedback input:focus {
      outline: none;
      border-color: var(--muted);
    }

    .episode-feedback button {
      padding: 0.4rem 0.8rem;
      background: var(--accent-dark);
      color: #fff;
      border: none;
      border-radius: 6px;
      font-family: inherit;
      font-size: 0.8rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .episode-feedback button:hover {
      opacity: 0.85;
    }

    .show-notes-toggle {
      display: block;
      margin-top: 1rem;
      padding: 0;
      background: none;
      border: none;
      font-family: inherit;
      font-size: 0.8rem;
      color: var(--muted);
      cursor: pointer;
      letter-spacing: 0.02em;
    }

    .show-notes-toggle:hover {
      color: var(--text);
    }

    .show-notes-toggle .arrow {
      display: inline-block;
      transition: transform 0.2s ease;
      margin-right: 0.25rem;
    }

    .show-notes-toggle.open .arrow {
      transform: rotate(90deg);
    }

    .show-notes {
      display: none;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .show-notes.open {
      display: block;
    }

    .show-notes-summary {
      font-size: 0.88rem;
      color: var(--text);
      line-height: 1.65;
      margin-bottom: 1.25rem;
    }

    .show-notes-quote {
      font-size: 0.95rem;
      font-weight: 500;
      font-style: italic;
      color: var(--text);
      border-left: 3px solid var(--accent);
      padding: 0.5rem 0 0.5rem 1rem;
      margin-bottom: 1.25rem;
      line-height: 1.55;
    }

    .show-notes-cta {
      font-size: 0.88rem;
      color: var(--muted);
      line-height: 1.65;
    }

    .show-notes-cta strong {
      color: var(--text);
      font-weight: 600;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    @media (max-width: 600px) {
      .container {
        padding: 2rem 1rem 3rem;
      }

      header {
        margin-bottom: 2rem;
      }

      .about {
        margin-bottom: 2rem;
      }

      .episode {
        padding: 1.25rem;
      }

      .episode-feedback input {
        font-size: 1rem;
      }

      .episode-feedback button {
        font-size: 0.85rem;
        padding: 0.5rem 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="https://cdn.prod.website-files.com/6941b29a77eb5a70a6675f1d/6953b1704a6c5b2155e4aaaa_full-logo.svg" alt="Do Health" class="logo">
      <h1>Do Weekly</h1>
      <p class="subtitle">Short weekly episodes on building lasting healthy habits</p>
    </header>

    <div class="about">
      <p>Not through willpower or guilt, but by shifting who you believe you are. Hosted by Dr Robin Wang, clinical lead at Do Health.</p>
    </div>

    <div class="episodes" role="list">
      <article class="episode" role="listitem">
        <div class="episode-number">Episode 1</div>
        <div class="episode-title">Identity</div>
        <div class="episode-description">You are what you repeat</div>
        <div class="player" aria-label="Play Episode 1: Identity">
          <audio preload="none">
            <source src="https://raw.githubusercontent.com/r-wang94/do-weekly/main/episodes/1_identity/recording.mp3" type="audio/mpeg">
          </audio>
          <button class="play-btn" aria-label="Play">
            <svg viewBox="0 0 16 16" class="icon-play"><polygon points="3,1 13,8 3,15"/></svg>
            <svg viewBox="0 0 16 16" class="icon-pause" style="display:none"><rect x="2" y="1" width="4" height="14"/><rect x="10" y="1" width="4" height="14"/></svg>
          </button>
          <div class="player-track">
            <div class="progress-bar"><div class="progress-fill"></div></div>
            <div class="player-time"><span class="time-current">0:00</span><span class="time-duration">0:00</span></div>
          </div>
        </div>
        <button class="show-notes-toggle" aria-expanded="false" aria-controls="notes-1"><span class="arrow">&#9654;</span> Show notes</button>
        <div class="show-notes" id="notes-1">
          <p class="show-notes-summary">You already have identities that run on autopilot. You're a tea drinker. Someone who calls their mum. Someone who makes their bed. Those labels don't take willpower. This episode asks: what if you could do the same thing with your health?</p>
          <p class="show-notes-quote">"Stop trying to force yourself into good habits. Start becoming the kind of person for whom those habits make sense."</p>
          <p class="show-notes-cta"><strong>This week:</strong> Write one identity sentence on a sticky note. "I'm someone who walks." "I'm someone who winds down before bed." Put it where you'll see it. Let it sit.</p>
        </div>
        <form class="episode-feedback" action="https://formspree.io/f/xykdpqdn" method="POST" aria-label="Feedback for Episode 1">
          <input type="hidden" name="episode" value="Episode 1 – Identity">
          <label for="feedback-1" class="sr-only">Your feedback on Episode 1</label>
          <input type="text" id="feedback-1" name="message" placeholder="What did you think?" required>
          <button type="submit">Send</button>
        </form>
      </article>

      <article class="episode" role="listitem">
        <div class="episode-number">Episode 2</div>
        <div class="episode-title">Discomfort</div>
        <div class="episode-description">Comfort is the trap</div>
        <div class="player" aria-label="Play Episode 2: Discomfort">
          <audio preload="none">
            <source src="https://raw.githubusercontent.com/r-wang94/do-weekly/main/episodes/2_discomfort/recording.mp3" type="audio/mpeg">
          </audio>
          <button class="play-btn" aria-label="Play">
            <svg viewBox="0 0 16 16" class="icon-play"><polygon points="3,1 13,8 3,15"/></svg>
            <svg viewBox="0 0 16 16" class="icon-pause" style="display:none"><rect x="2" y="1" width="4" height="14"/><rect x="10" y="1" width="4" height="14"/></svg>
          </button>
          <div class="player-track">
            <div class="progress-bar"><div class="progress-fill"></div></div>
            <div class="player-time"><span class="time-current">0:00</span><span class="time-duration">0:00</span></div>
          </div>
        </div>
        <button class="show-notes-toggle" aria-expanded="false" aria-controls="notes-2"><span class="arrow">&#9654;</span> Show notes</button>
        <div class="show-notes" id="notes-2">
          <p class="show-notes-summary">There's a strange exhaustion that comes from doing nothing at all. The scroll, the snack, the extra episode. They go down easy but leave you hungrier than before. This episode asks why comfort keeps making us feel worse, and what we're actually reaching for.</p>
          <p class="show-notes-quote">"What we're actually craving isn't comfort. It's aliveness."</p>
          <p class="show-notes-cta"><strong>This week:</strong> Pick one small thing you've been avoiding. Do it for 10 minutes. When you're done, pause. One breath. Notice how you feel.</p>
        </div>
        <form class="episode-feedback" action="https://formspree.io/f/xykdpqdn" method="POST" aria-label="Feedback for Episode 2">
          <input type="hidden" name="episode" value="Episode 2 – Discomfort">
          <label for="feedback-2" class="sr-only">Your feedback on Episode 2</label>
          <input type="text" id="feedback-2" name="message" placeholder="What did you think?" required>
          <button type="submit">Send</button>
        </form>
      </article>

      <article class="episode" role="listitem">
        <div class="episode-number">Episode 3</div>
        <div class="episode-title">Savour</div>
        <div class="episode-description">The forgotten skill of enjoyment</div>
        <div class="player" aria-label="Play Episode 3: Savour">
          <audio preload="none">
            <source src="https://raw.githubusercontent.com/r-wang94/do-weekly/main/episodes/3_savour/recording.mp3" type="audio/mpeg">
          </audio>
          <button class="play-btn" aria-label="Play">
            <svg viewBox="0 0 16 16" class="icon-play"><polygon points="3,1 13,8 3,15"/></svg>
            <svg viewBox="0 0 16 16" class="icon-pause" style="display:none"><rect x="2" y="1" width="4" height="14"/><rect x="10" y="1" width="4" height="14"/></svg>
          </button>
          <div class="player-track">
            <div class="progress-bar"><div class="progress-fill"></div></div>
            <div class="player-time"><span class="time-current">0:00</span><span class="time-duration">0:00</span></div>
          </div>
        </div>
        <button class="show-notes-toggle" aria-expanded="false" aria-controls="notes-3"><span class="arrow">&#9654;</span> Show notes</button>
        <div class="show-notes" id="notes-3">
          <p class="show-notes-summary">The good moments are already there. The coffee, the quiet, the walk. You're just moving through them too quickly to feel them. This episode is about what happens when you stop rushing past the good bits and actually stay for them.</p>
          <p class="show-notes-quote">"We don't need more good things in our lives. We just need to be in the room when they happen."</p>
          <p class="show-notes-cta"><strong>This week:</strong> Pick one thing you already do every day. A cup of tea, a walk, a meal. Do it once without anything else. No phone. No list in your head. Just the thing itself.</p>
        </div>
        <form class="episode-feedback" action="https://formspree.io/f/xykdpqdn" method="POST" aria-label="Feedback for Episode 3">
          <input type="hidden" name="episode" value="Episode 3 – Savour">
          <label for="feedback-3" class="sr-only">Your feedback on Episode 3</label>
          <input type="text" id="feedback-3" name="message" placeholder="What did you think?" required>
          <button type="submit">Send</button>
        </form>
      </article>

    </div>

    <div class="upcoming">
      <h2>Coming up</h2>
      <ul class="upcoming-list">
        <li><span class="ep-num">4.</span> Setbacks: The cracks are where the gold goes</li>
        <li><span class="ep-num">5.</span> Choose: The power of naming the choice</li>
        <li><span class="ep-num">6.</span> Capacity: You can't pour from empty</li>
        <li><span class="ep-num">7.</span> Destination: You were never going somewhere</li>
        <li><span class="ep-num">8.</span> Notice: A guided meditation</li>
        <li><span class="ep-num">9.</span> Tonight: Tomorrow starts tonight</li>
      </ul>
    </div>

    <footer>
      <p><a href="https://dohealth.co">Do Health</a></p>
    </footer>
  </div>
  <script data-goatcounter="https://robinwang.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  <script>
    document.querySelectorAll('.player').forEach(function(p) {
      var audio = p.querySelector('audio');
      var btn = p.querySelector('.play-btn');
      var iconPlay = p.querySelector('.icon-play');
      var iconPause = p.querySelector('.icon-pause');
      var fill = p.querySelector('.progress-fill');
      var bar = p.querySelector('.progress-bar');
      var timeCur = p.querySelector('.time-current');
      var timeDur = p.querySelector('.time-duration');
      var tracked = false;

      function fmt(s) {
        var m = Math.floor(s / 60);
        var sec = Math.floor(s % 60);
        return m + ':' + (sec < 10 ? '0' : '') + sec;
      }

      btn.addEventListener('click', function() {
        // pause other players
        document.querySelectorAll('.player audio').forEach(function(a) {
          if (a !== audio && !a.paused) a.pause();
        });
        if (audio.paused) {
          audio.play();
        } else {
          audio.pause();
        }
      });

      audio.addEventListener('play', function() {
        iconPlay.style.display = 'none';
        iconPause.style.display = '';
        btn.setAttribute('aria-label', 'Pause');
        if (!tracked) {
          tracked = true;
          var ep = p.closest('.episode').querySelector('.episode-title').textContent.toLowerCase();
          if (window.goatcounter && goatcounter.count) {
            goatcounter.count({ path: 'play:' + ep, title: 'Play: ' + ep, event: true });
          }
        }
      });

      audio.addEventListener('pause', function() {
        iconPlay.style.display = '';
        iconPause.style.display = 'none';
        btn.setAttribute('aria-label', 'Play');
      });

      audio.addEventListener('loadedmetadata', function() {
        timeDur.textContent = fmt(audio.duration);
      });

      audio.addEventListener('timeupdate', function() {
        if (!audio.duration) return;
        fill.style.width = (audio.currentTime / audio.duration * 100) + '%';
        timeCur.textContent = fmt(audio.currentTime);
      });

      audio.addEventListener('ended', function() {
        fill.style.width = '0%';
        timeCur.textContent = '0:00';
      });

      bar.addEventListener('click', function(e) {
        if (!audio.duration) return;
        var pct = e.offsetX / bar.offsetWidth;
        audio.currentTime = pct * audio.duration;
      });
    });

    document.querySelectorAll('.show-notes-toggle').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var notes = document.getElementById(btn.getAttribute('aria-controls'));
        var isOpen = btn.classList.toggle('open');
        notes.classList.toggle('open');
        btn.setAttribute('aria-expanded', isOpen);
      });
    });
  </script>
</body>
</html>
